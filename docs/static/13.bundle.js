(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.dir,r=t.filename;this.dir=a,this.filename=r,this.payload=n}return a(e,[{key:"getServiceConfig",value:function(){return{}}}]),e}();t.default=r},1319:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"setAppUrl",value:function(){return function(e){this.appUrl=e}}()},{key:"setEndpoint",value:function(){return function(e){this.endpoint=e}}()},{key:"getEndpointByKey",value:function(){return function(e){return this.endpoint[e]}}()},{key:"setAppId",value:function(){return function(e){this.appId=e}}()},{key:"getAppId",value:function(){return function(){return this.appId}}()}]),e}();t.default=new a,e.exports=t.default},1324:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var a=n(1),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};class o extends a.Component{constructor(e){super(e),this.reload=this.reload.bind(this),this.state={isLoading:!0,isError:!1,src:null,errMsg:null}}componentWillReceiveProps(e){this.reload(e)}componentDidMount(){this.reload(this.props)}reload(e){this.setState({isLoading:!0,isError:!1,src:null,errMsg:null});const t=new Image;t.src=e.src,t.onload=(()=>{this.setState({src:t.src,isLoading:!1,isError:!1,errMsg:null}),e.onLoad&&e.onLoad(t)}),t.onerror=(t=>{this.setState({src:null,isLoading:!1,isError:!0,errMsg:t}),e.onError&&e.onError(t)})}render(){const{loading:e,error:t,image:n}=this.props,{src:o,isLoading:i,isError:l,errMsg:s}=this.state;return e&&i?e():t&&l&&s?t(s):o&&n?n({src:o}):o?a.createElement("img",r({},this.props,{src:o})):null}}},1339:function(e,t,n){"use strict";n.r(t);n(1022);var a=n(1023),r=n.n(a),o=(n(1029),n(1084)),i=n.n(o),l=n(1),s=n.n(l),c=n(116),u=n(93),p=(n(1042),n(1055)),f=n.n(p),d=(n(528),n(527)),m=n.n(d),h=(n(1017),n(1018)),g=n.n(h),b=(n(1046),n(1116)),y=n.n(b),v=(n(1117),n(1182)),_=n.n(v),w=(n(1183),n(1323)),E=n.n(w),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};const C=E.a.Dragger,k=u["default"].div`
  width: 400px;
  height: 300px;
  margin-right: auto;
  margin-left: auto;
`,P=u["default"].div`
  margin: 10px;
`;n(1064);var O,z,q=n(1083),M=n.n(q),S=n(1869),x=n.n(S);const L=i.a.TabPane,I=u["default"].div`
  background-image: url(${e=>e.url});
  background-position: 50%;
  background-repeat: no-repeat;
  background-size: cover;
  margin: 0 auto;
  height: 200px;
  width: 100%;
  cursor: pointer;
`;let F=(z=O=class extends l.Component{constructor(e){super(e),this.generateContent=this.generateContent.bind(this),this.generateGallery=this.generateGallery.bind(this),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onChange([e.url])}generateContent(e){const t=this;let n=[];return e.forEach((e,a)=>{n.push(s.a.createElement(L,{key:a,tab:e.name},t.generateGallery(e.gallery)))}),n}generateGallery(e){return s.a.createElement(f.a,null,e.map((e,t)=>s.a.createElement(M.a,{style:{padding:"5px"},span:8,key:t,onClick:()=>this.handleClick(e)},s.a.createElement(I,{url:e.url}))))}render(){const{galleryConfig:e}=this.props;return s.a.createElement(i.a,{tabPosition:"top"},this.generateContent(e))}},O.defaultProps={galleryConfig:x.a},z);n(1025);var T=n(1050),D=n.n(T),R=n(1324);const U=u["default"].div`
  background-image: url(${e=>e.src});
  width: 100%;
  height: 300px;
  background-size: contain;
  background-repeat: no-repeat;
`;var A,W,G=n(536),K=n.n(G),X=n(535),H=n.n(X);const J=i.a.TabPane;Object(c.addLocaleData)([...K.a,...H.a]);const N=u["default"].div`
  padding: 30px;
`;let B=(W=A=class extends l.Component{constructor(e){super(e),this.finishEdit=this.finishEdit.bind(this)}finishEdit(e){const{closeEditPopup:t}=this.props;e.preventDefault(),e.stopPropagation(),t&&t()}render(){const{locale:e,localeMessages:t,editPopup:n,multiple:a,onChange:o,closeEditPopup:u,serviceConfig:p,galleryConfig:d}=this.props;return s.a.createElement(c.IntlProvider,{locale:e,defaultLocale:"en",messages:t},s.a.createElement(r.a,{visible:n,closable:!0,width:700,onCancel:u,title:s.a.createElement(c.FormattedMessage,{id:"imgupload.title"}),footer:null,maskClosable:!0},s.a.createElement(N,null,s.a.createElement(i.a,{type:"card"},s.a.createElement(J,{tab:s.a.createElement(c.FormattedMessage,{id:"imgupload.tab1.title"}),key:"1"},s.a.createElement(class extends s.a.Component{constructor(e){super(e),this.uploadFile=this.uploadFile.bind(this),this.finishSuccessEdit=this.finishSuccessEdit.bind(this),this.state={fileList:[]}}shouldComponentUpdate(e,t){return!(this.state.fileList.length>0&&0===t.fileList)}finishSuccessEdit(e){const{onChange:t,finishEdit:n}=this.props;t(this.state.fileList.map(e=>e.url)),this.setState({fileList:[]},n(e))}uploadFile(e){let t=e.fileList;t=(t=t.slice(-3)).map(e=>(e.response&&e.response.data&&(e.url=e.response.data.link),e)),this.setState({fileList:t})}render(){const{multiple:e,finishEdit:t,serviceConfig:n}=this.props,{fileList:a}=this.state;let r,o,i=!1;const l=j({multiple:e},n,{onChange:this.uploadFile});return a&&a.length?(r=a.map(e=>{const n=e.percent;let a;return i=!0,"error"===e.status?a=s.a.createElement("div",{key:e.name},s.a.createElement(y.a,{message:s.a.createElement(c.FormattedMessage,{id:"imgupload.upload.error.info"}),type:"error",showIcon:!0}),s.a.createElement(g.a,{type:"primary",onClick:t},s.a.createElement(c.FormattedMessage,{id:"imgupload.btn.confirm"}))):"uploading"===e.status?a=s.a.createElement("div",{key:e.name},s.a.createElement(y.a,{message:s.a.createElement(c.FormattedMessage,{id:"imgupload.upload.uploading.info",values:{filename:e.name}}),type:"info",showIcon:!0}),s.a.createElement(_.a,{percent:Math.round(n)})):"done"===e.status&&(a=s.a.createElement("div",{key:e.name},s.a.createElement(y.a,{message:s.a.createElement(c.FormattedMessage,{id:"imgupload.upload.success.info",values:{filename:e.name}}),type:"success",showIcon:!0}))),a}),a.every(e=>"done"===e.status)&&(o=s.a.createElement(g.a,{type:"primary",onClick:this.finishSuccessEdit,style:{margin:"10px"}},s.a.createElement(c.FormattedMessage,{id:"imgupload.upload.success"})))):r=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(m.a,{type:"inbox",style:{fontSize:70}})),s.a.createElement(c.FormattedMessage,{id:"imgupload.upload.info"})),s.a.createElement(f.a,null,s.a.createElement(k,null,s.a.createElement(C,j({},l,{fileList:a,disabled:i}),s.a.createElement(P,null,r,o))))}},{multiple:a,serviceConfig:p,onChange:o,finishEdit:this.finishEdit})),null!==d&&s.a.createElement(J,{tab:s.a.createElement(c.FormattedMessage,{id:"imgupload.tab2.title"}),key:"2"},s.a.createElement(F,{galleryConfig:d,onChange:o})),s.a.createElement(J,{tab:s.a.createElement(c.FormattedMessage,{id:"imgupload.tab3.title"}),key:"3"},s.a.createElement(class extends l.Component{constructor(e){super(e),this.state={url:null,confirmDisabled:!0},this.onChange=this.onChange.bind(this),this.onClick=this.onClick.bind(this),this.confirmDisable=this.confirmDisable.bind(this)}onChange(e){this.setState({confirmDisabled:!0,url:e.target.value})}confirmDisable(e){this.setState({confirmDisabled:e})}onClick(){const{url:e}=this.state;e&&(this.props.onChange([e]),this.setState({url:null,confirmDisabled:!0}))}render(){const{url:e,confirmDisabled:t}=this.state;return s.a.createElement(f.a,null,s.a.createElement(M.a,null,s.a.createElement(c.FormattedMessage,{id:"imgupload.url.title"}),s.a.createElement(D.a,{onChange:this.onChange}),s.a.createElement(g.a,{style:{margin:"10px 0"},type:"primary",disabled:t,onClick:this.onClick},s.a.createElement(c.FormattedMessage,{id:"imgupload.btn.confirm"})),e&&t&&s.a.createElement(R.default,{src:e,onLoad:()=>this.confirmDisable(!1),error:()=>s.a.createElement(y.a,{message:s.a.createElement(c.FormattedMessage,{id:"imgupload.url.error"}),type:"error"}),loading:()=>s.a.createElement("div",null,s.a.createElement(m.a,{type:"loading",style:{fontSize:24},spin:!0})),image:e=>s.a.createElement(U,e)}),e&&!t&&s.a.createElement(U,{src:e})))}},{onChange:o}))))))}},A.defaultProps={locale:"en",multiple:!1,localeMessages:{"imgupload.title":"Choose Images","imgupload.tab1.title":"Upload","imgupload.tab2.title":"Gallery","imgupload.tab3.title":"Url","imgupload.upload.info":"Click to browse or drag images here.","imgupload.upload.success":"Upload success!","imgupload.upload.success.info":"{filename} is uploaded!","imgupload.upload.uploading.info":"{filename} is uploading...","imgupload.upload.error.info":"Sorry, there was a problem with your request.","imgupload.url.title":"Enter your image URL","imgupload.url.error":"Please check if the image link is valid.","imgupload.btn.confirm":"OK!"},onChange:e=>e,editProps:!1},W);t.default=B},1863:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(1115));n(279);var o=l(n(542)),i=l(n(1319));function l(e){return e&&e.__esModule?e:{default:e}}window.Promise||(window.Promise=o.default);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"getServiceConfig",value:function(){return{customRequest:function(e){var t=e.file,n=e.onProgress,a=e.onSuccess,r=e.onError;(function(){var e="https://www.canner.io/apps/"+i.default.appUrl+"/image/token";0;return fetch(e,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e.token})})().then(function(e){return function(e){return new o.default(function(t,n){var a=new FileReader;a.onload=function(){var e=new Image;e.onload=function(){t({width:e.width,height:e.height})},e.src=a.result},a.onerror=function(e){n(e)},a.readAsDataURL(e)})}(t).then(function(t){if(t.width>6e3||t.height>6e3)throw new Error;return{dimension:t,token:e}})}).then(function(e){var o=e.dimension,i=e.token,l=new FormData;l.append("files",t);var s=new XMLHttpRequest;s.addEventListener("progress",function(e){var t=e.position||e.loaded,a=e.totalSize||e.total;n({percent:t/a*100})},!1),s.onreadystatechange=function(){if(4===this.readyState)if(200===s.status){var e=JSON.parse(s.responseText);a({data:{link:function(e,t){var n="";t.width>1200?n="/-/resize/1200x":t.height>1200&&(n="/-/resize/x1200");return"https://image.canner.io/img/"+e+n}(e.uploaded[0].id,o)}})}else r()},s.open("post","https://image.canner.io/upload",!0),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Authorization","Bearer "+i),s.send(l)}).catch(function(){r()})}}}}]),t}();t.default=s},1864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1115),i=(a=o)&&a.__esModule?a:{default:a};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"getServiceConfig",value:function(){return{name:"image",accept:"image/*",action:"https://imgur-apiv3.p.mashape.com/3/image",headers:{"X-Mashape-Key":"bF1fkS9EKrmshtCbRspDUxPL5yhCp1rzz8ejsnqLqwI2KQC3s9",Authorization:"Client-ID cd7b1ab0aa39732","X-Requested-With":null}}}}]),t}();t.default=l},1865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=(l(n(550)),l(n(1115))),o=l(n(1319)),i=l(n(552));l(n(542));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"getServiceConfig",value:function(){return{customRequest:function(e){var t=e.file,n=e.onProgress,a=e.onSuccess,r=e.onError,l=Math.random().toString(36).substr(2,6),s=t.name.split(".").slice().pop(),c="CANNER_CMS/"+this.dir+"/"+t.name+"-"+l+"."+s,u=o.default.getAppId();this.getSignedUrl({key:this.payload.key,appId:u,filepath:""+c,contentType:t.type}).then(function(e){return i.default.put(e.uploadUrl,t,{onUploadProgress:function(e){var t=e.position||e.loaded,a=e.totalSize||e.total;n({percent:t/a*100})},headers:{"Content-Type":t.type,"X-Upload-Content-Type":t.type,"X-Upload-Content-Length":t.size}}).then(function(){return e.publicUrl})}).then(function(e){a({data:{link:e}})}).catch(r)}.bind(this)}}},{key:"getSignedUrl",value:function(e){var t=e.key,n=e.filepath,a=e.appId,r=e.contentType;return i.default.post("https://backend.canner.io/storage",{key:t,filepath:n,appId:a,contentType:r}).then(function(e){return e.data})}}]),t}();t.default=s},1866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(e.service){case"canner":return new o.default(e,t);case"imgur":return new r.default(e,t);case"firebase":default:return new a.default(e,t)}};var a=i(n(1865)),r=i(n(1864)),o=i(n(1863));function i(e){return e&&e.__esModule?e:{default:e}}},1869:function(e,t){e.exports=[{name:"bnb",gallery:[{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_1_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_1_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_2_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_2_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_3_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_3_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_4_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_4_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_5_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_5_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_6_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_6_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_7_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/bnb/bnb_7_1800.jpg"}]},{name:"cafe",gallery:[{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_1_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_1_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_2_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_2_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_3_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_3_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_4_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_4_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_5_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_5_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_6_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_6_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_7_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_7_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_8_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_8_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_9_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_9_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_10_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_10_1800.jpg"},{url:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_11_600.jpg",name:"https://canner-qa.s3.amazonaws.com/gallery/coffee/coffee_11_1800.jpg"}]}]},1895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o=f(n(1329)),i=f(n(1018)),l=f(n(527)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1325),n(1017),n(528);var c=n(1),u=f(c),p=f(n(1324));function f(e){return e&&e.__esModule?e:{default:e}}var d=(r=a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteImage=n.deleteImage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.PureComponent),s(t,[{key:"deleteImage",value:function(){this.props.onChange("")}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.cardWidth,a=e.disabled;return u.default.createElement(o.default,{style:{width:n},bodyStyle:{padding:0}},u.default.createElement(p.default,{src:t,style:{width:"100%"},error:function(){return u.default.createElement("img",{style:{width:"100%"},src:"http://i.imgur.com/DUaZWMd.png"})},loading:function(){return u.default.createElement("div",{style:{margin:"20px"}},u.default.createElement(l.default,{type:"loading",style:{fontSize:24},spin:!0}))}}),a?null:u.default.createElement("div",{style:{padding:"10px 16px",textAlign:"right"}},u.default.createElement(i.default,{onClick:this.deleteImage},u.default.createElement(l.default,{type:"close"}))))}}]),t}(),a.defaultProps={cardWidth:300},r);t.default=d},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n(1018)),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1017);var o=n(1),i=d(o),l=d(n(1895)),s=d(n(1339)),c=d(n(531)),u=n(52),p=n(116),f=d(n(1866));d(n(1115));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.showEditPopup=function(){n.setState({editPopup:!0})},n.closeEditPopup=function(){n.setState({editPopup:!1})},n.onChange=function(e){var t=n.props.value,a=e;(0,u.isArray)(e)&&(a=e[0]),n.props.onChange(n.props.refId,"update",t.set("url",a))},n.state={editPopup:!1};var a=e.uiParams||{},r=a.service,o=a.dir,i=a.filename,l=e.refId.getPathArr()[0];return n.serviceConfig=(0,f.default)({service:r,dir:o,filename:i},{key:l}).getServiceConfig(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){e.value.get("url")&&this.setState({editPopup:!1})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,r=this.state.editPopup;return t&&t.get("url")?i.default.createElement(l.default,{onChange:this.onChange,value:t.get("url"),disabled:n}):i.default.createElement("div",null,i.default.createElement(a.default,{type:"primary",onClick:this.showEditPopup,disabled:n},"+ ",i.default.createElement(p.FormattedMessage,{id:"string.image.add",defaultMessage:c.default.en["string.image.add"]})),i.default.createElement(s.default,{onChange:this.onChange,editPopup:r,serviceConfig:this.serviceConfig,closeEditPopup:this.closeEditPopup,multiple:!1}))}}]),t}();t.default=m}}]);